<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>U.S. States - Population</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }
        .nav-container {
            background-color: #2c3e50;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .nav-brand {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            text-decoration: none;
        }
        .nav-links {
            display: flex;
            gap: 2rem;
        }
        .nav-link {
            color: #ecf0f1;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .nav-link:hover {
            background-color: #34495e;
        }
        .nav-link.active {
            background-color: #3498db;
        }
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 2rem;
        }
        .chart-container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-top: 20px;
        }
        .bar {
            fill: #3498db;
            transition: fill 0.3s;
        }
        .bar:hover {
            fill: #2980b9;
        }
        .state-label {
            font-size: 14px;
            font-weight: bold;
        }
        .population-label {
            font-size: 14px;
            fill: #666;
        }
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 14px;
            pointer-events: none;
            z-index: 1000;
            display: none;
        }
    </style>
</head>
<body>
    <nav class="nav-container">
        <div class="nav-content">
            <a href="index.html" class="nav-brand">U.S. States</a>
            <div class="nav-links">
                <a href="index.html" class="nav-link">Capitals</a>
                <a href="population.html" class="nav-link active">Population</a>
                <a href="facts.html" class="nav-link">Facts</a>
                <a href="votes.html" class="nav-link">2024 Votes</a>
            </div>
        </div>
    </nav>
    <div class="main-content">
        <h1>State Population Rankings (2024 Est.)</h1>
        <div class="chart-container">
            <svg id="chart"></svg>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // State population data (2024 estimates)
        const stateData = [
            { state: "California", population: 39613493 },
            { state: "Texas", population: 30029572 },
            { state: "Florida", population: 22244823 },
            { state: "New York", population: 19677151 },
            { state: "Illinois", population: 12582032 },
            { state: "Pennsylvania", population: 12972008 },
            { state: "Ohio", population: 11756058 },
            { state: "Georgia", population: 10912876 },
            { state: "North Carolina", population: 10698973 },
            { state: "Michigan", population: 10034113 },
            { state: "New Jersey", population: 9261699 },
            { state: "Virginia", population: 8683619 },
            { state: "Washington", population: 7785786 },
            { state: "Arizona", population: 7359197 },
            { state: "Massachusetts", population: 6981974 },
            { state: "Tennessee", population: 6975218 },
            { state: "Indiana", population: 6833037 },
            { state: "Maryland", population: 6165129 },
            { state: "Missouri", population: 6168187 },
            { state: "Wisconsin", population: 5892539 },
            { state: "Colorado", population: 5839926 },
            { state: "Minnesota", population: 5707390 },
            { state: "South Carolina", population: 5190705 },
            { state: "Alabama", population: 5039877 },
            { state: "Louisiana", population: 4624047 },
            { state: "Kentucky", population: 4509394 },
            { state: "Oregon", population: 4246155 },
            { state: "Oklahoma", population: 4019800 },
            { state: "Connecticut", population: 3605944 },
            { state: "Utah", population: 3380800 },
            { state: "Iowa", population: 3200517 },
            { state: "Nevada", population: 3177772 },
            { state: "Arkansas", population: 3025891 },
            { state: "Mississippi", population: 2940057 },
            { state: "Kansas", population: 2937880 },
            { state: "New Mexico", population: 2117522 },
            { state: "Nebraska", population: 1961504 },
            { state: "Idaho", population: 1939033 },
            { state: "West Virginia", population: 1782959 },
            { state: "Hawaii", population: 1441553 },
            { state: "New Hampshire", population: 1388992 },
            { state: "Maine", population: 1372247 },
            { state: "Montana", population: 1084225 },
            { state: "Rhode Island", population: 1097379 },
            { state: "Delaware", population: 1003384 },
            { state: "South Dakota", population: 886667 },
            { state: "North Dakota", population: 774948 },
            { state: "Alaska", population: 733391 },
            { state: "Vermont", population: 645570 },
            { state: "Wyoming", population: 576851 }
        ];

        // Sort states by population in descending order
        stateData.sort((a, b) => b.population - a.population);

        // Set up the chart dimensions
        const margin = { top: 20, right: 200, bottom: 20, left: 200 };
        const width = 1160 - margin.left - margin.right;
        const height = 1500 - margin.top - margin.bottom;
        const barHeight = 25;
        const barPadding = 5;

        // Create SVG
        const svg = d3.select("#chart")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", `translate(${margin.left},${margin.top})`);

        // Create scales
        const xScale = d3.scaleLinear()
            .domain([0, d3.max(stateData, d => d.population)])
            .range([0, width]);

        const yScale = d3.scaleBand()
            .domain(stateData.map(d => d.state))
            .range([0, height])
            .padding(0.1);

        // Create bars
        svg.selectAll(".bar")
            .data(stateData)
            .enter()
            .append("rect")
            .attr("class", "bar")
            .attr("x", 0)
            .attr("y", d => yScale(d.state))
            .attr("width", d => xScale(d.population))
            .attr("height", yScale.bandwidth())
            .on("mouseover", function(event, d) {
                const tooltip = d3.select("#tooltip");
                tooltip.html(`${d.state}: ${d3.format(",")(d.population)}`)
                    .style("left", (event.pageX + 10) + "px")
                    .style("top", (event.pageY - 25) + "px")
                    .style("display", "block");
            })
            .on("mouseout", function() {
                d3.select("#tooltip").style("display", "none");
            });

        // Add state labels
        svg.selectAll(".state-label")
            .data(stateData)
            .enter()
            .append("text")
            .attr("class", "state-label")
            .attr("x", -10)
            .attr("y", d => yScale(d.state) + yScale.bandwidth() / 2)
            .attr("text-anchor", "end")
            .attr("alignment-baseline", "middle")
            .text(d => d.state);

        // Add population labels
        svg.selectAll(".population-label")
            .data(stateData)
            .enter()
            .append("text")
            .attr("class", "population-label")
            .attr("x", d => xScale(d.population) + 10)
            .attr("y", d => yScale(d.state) + yScale.bandwidth() / 2)
            .attr("alignment-baseline", "middle")
            .text(d => d3.format(",")(d.population));
    </script>
</body>
</html> 